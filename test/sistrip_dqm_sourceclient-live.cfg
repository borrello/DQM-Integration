process SiStripDQMLive = {

    #----------------------------
    #### Event Source
    #-----------------------------
    include "DQM/Integration/test/inputsource_playback.cfi"
    replace EventStreamHttpReader.consumerName = "SiStrip DQM Consumer"

    #----------------------------
    #### DQM Environment
    #-----------------------------
    include "DQMServices/Core/data/DQM.cfg"
    replace DQMStore.referenceFileName = "/home/dqmdevlocal/reference/sistrip_reference.root"
    # replace DQM.filter = "^SiStrip(/[^/]+){0,5}$"

    include "DQMServices/Components/data/DQMEnvironment.cfi"

    #----------------------------
    #### DQM Playback Environment
    #-----------------------------
    include "DQM/Integration/test/environment_playback.cfi"
    replace dqmEnv.subSystemFolder    = "SiStrip"
    #-----------------------------

    
    service = MessageLogger {
        untracked vstring destinations = { "cout" }
        untracked PSet cout = { untracked string threshold = "ERROR" }
        untracked vstring debugModules   = { "siPixelDigis",
                                             "siStripDigis",
                                             "siStripClusters",
                                             "siStripZeroSuppression",
                                             "SiStripClusterizer"}
    }

    #-------------------------------------------------
    ## MAGNETIC FIELD
    #-------------------------------------------------
    ### Magnetic fiuld: force mag field to be 0.0 tesla
    include "Configuration/GlobalRuns/data/ForceZeroTeslaField.cff"
 
    #-------------------------------------------------
    ## GEOMETRY
    #-------------------------------------------------
    
    # tracker geometry
    include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
    
    # tracker numbering
    include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
    
    # cms geometry
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
    
    #-------------------------------------------------
    ## CALIBRATION
    #-------------------------------------------------
    
    include "Configuration/StandardSequences/data/FakeConditions.cff"
    
    #If Frontier is used in xdaq environment use the following service
#    service = SiteLocalConfigService {}
    
    #-----------------------
    ####  Reconstruction Modules
    #-----------------------
    
    include "Configuration/GlobalRuns/data/ReconstructionGR.cff"
    ## raw to digi for pixel and strips
     include "EventFilter/SiPixelRawToDigi/data/SiPixelRawToDigi.cfi"
     replace siPixelDigis.InputLabel = "source"
     include "EventFilter/SiStripRawToDigi/data/SiStripRawToDigis_standard.cff"
     replace siStripDigis.ProductLabel = "source"



   #### Quality Tester ####
   module qTester = QualityTester {
     untracked FileInPath qtList = "DQM/SiStripMonitorClient/data/sistrip_qualitytest_config.xml"
     untracked bool getQualityTestsFromFile = true	        
     untracked int32 prescaleFactor = 1
   }

    #--------------------------
    #### STRIP DQM Source and Client
    #--------------------------
    include "DQM/SiStripMonitorClient/data/SiStripSourceConfigP5.cff"
    replace HardwareMonitor.preSwapOn = false

    # Client
    module SiStripClient = SiStripAnalyser {
    	untracked int32  StaticUpdateFrequency = -1
        untracked int32  TkMapCreationFrequency = -1
        untracked int32  SummaryCreationFrequency = -1
        PSet TkmapParameters =
        {
   	   untracked string trackerdatPath="CommonTools/TrackerMap/data/"
	   untracked string trackermaptxtPath="DQM/Integration/test/TkMap/"
	   untracked bool loadFedCabling=true
        }
    }


    #--------------------------
    #### Web Service
    #--------------------------
    service = ModuleWebRegistry { }

    #----------------------------
    #### Scheduling
    #-----------------------------
    
    sequence SiStripSources = {
      HardwareMonitor,
      SiStripMonitorDigiReal,
      SiStripMonitorCluster,
      SiStripMonitorTrack_cosmicTk,
      MonitorTrackResiduals_cosmicTk,
      TrackMon_cosmicTk
    }

    sequence DQMCommon = {
      qTester,
      dqmEnv ,
      dqmSaver 
    }
    
    path p = {
       siPixelDigis,
       siStripDigis, 
	trackerGR,
        DQMCommon,
	SiStripSources, 
        SiStripClient
    }

    service = AdaptorConfig {}
   
}
