
process hlxdqmlive = { 
	#untracked PSet maxEvents = { untracked int32 input = 20000 }
	untracked PSet maxEvents = {untracked int32 input = -1 }


	source = EventStreamHttpReader {
        string sourceURL = "http://srv-c2c07-19.cms:11100/urn:xdaq-application:service=storagemanager"
#	  string sourceURL = "http://srv-c2d05-14.cms:22100/urn:xdaq-application:lid=30"
	  int32 max_event_size = 7000000
	  int32 max_queue_depth = 5
	  untracked string consumerName = "HLX DQM Source"
	  untracked string consumerPriority = "normal"
	  untracked int32 headerRetryInterval = 3
	  untracked double maxEventRequestRate = 10
	  untracked PSet SelectEvents = { vstring SelectEvents= { "*DQM" } }
	}


	include "DQMServices/Components/test/MessageLogger.cfi"
	include "DQM/HLXMonitor/test/hlx_dqm_sourceclient.cfi"
	
	include "DQMServices/Core/data/DQM.cfg"

  	# official DQMCollector
  	replace DQM.collectorHost = "srv-c2d05-19"
	#replace DQM.collectorHost = "srv-c2d05-17"
  	replace DQM.collectorPort = 9090
	replace DQMStore.verbose = 0

	include "DQMServices/Components/data/DQMEnvironment.cfi"		

        replace dqmEnv.subSystemFolder = "HLX"

	replace dqmSaver.dirName       = "/cms/mon/data/dropbox"
        replace dqmSaver.producer      = "DQM"
        replace dqmSaver.convention    = "Online"
	replace dqmSaver.saveByRun     = 1
	replace dqmSaver.saveAtJobEnd  = true

    	path p = { dqmEnv & hlxdqmsource & dqmSaver }
}
