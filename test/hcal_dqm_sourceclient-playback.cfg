process HCALDQM = { 
	include "DQMServices/Core/data/DQM.cfg"
	replace DQM.collectorHost = "srv-c2d05-18"

       include "DQM/HcalMonitorModule/data/HcalMonitorModule.cfi"
    		replace hcalMonitor.PedestalsPerChannel = false
                replace hcalMonitor.DataFormatMonitor = true
                replace hcalMonitor.DigiMonitor       = true
	        replace hcalMonitor.RecHitMonitor     = true
                replace hcalMonitor.TrigPrimMonitor   = true
	        replace hcalMonitor.PedestalMonitor   = true
                replace hcalMonitor.DeadCellMonitor   = false
                replace hcalMonitor.HotCellMonitor    = false
	        replace hcalMonitor.LEDMonitor        = false
                replace hcalMonitor.CaloTowerMonitor  = false
		replace hcalMonitor.MTCCMonitor       = false
		replace hcalMonitor.HcalAnalysis      = false

      include "DQM/HcalMonitorClient/data/HcalMonitorClient.cfi"
		replace hcalClient.plotPedRAW = true
                replace hcalClient.baseHtmlDir="" // suppresses html output from HCalClient  
                replace hcalClient.SummaryClient    = true
                replace hcalClient.DataFormatClient = true
	    	replace hcalClient.DigiClient       = true
	    	replace hcalClient.RecHitClient     = true
       	    	replace hcalClient.DeadCellClient   = false
                replace hcalClient.TrigPrimClient   = true
    	    	replace hcalClient.HotCellClient    = false
            	replace hcalClient.CaloTowerClient  = false
	    	replace hcalClient.LEDClient        = false
        	replace hcalClient.PedestalClient   = false

	include "DQM/HcalMonitorModule/data/Hcal_FrontierConditions.cff"
	include "FWCore/MessageLogger/data/MessageLogger.cfi"

	include "EventFilter/HcalRawToDigi/data/HcalRawToDigi.cfi"
        include "RecoLocalCalo/HcalRecProducers/data/HcalSimpleReconstructor-hbhe.cfi"
        include "RecoLocalCalo/HcalRecProducers/data/HcalSimpleReconstructor-ho.cfi"
        include "RecoLocalCalo/HcalRecProducers/data/HcalSimpleReconstructor-hf.cfi"
	


	path p = { hcalDigis, horeco, hfreco, hbhereco, hcalMonitor, hcalClient, dqmEnv, dqmSaver }


	untracked PSet options = {
		untracked vstring Rethrow = { "ProductNotFound", "TooManyProducts", "TooFewProducts" }
        }

	#----------------------------
	#### Event Source
	#-----------------------------
	include "DQM/Integration/test/inputsource_playback.cfi"
	replace EventStreamHttpReader.consumerName = "HCAL DQM Consumer"

	#########################################################
 	#### BEGIN DQM Online Environment #######################
	#########################################################
	# use include file for dqmEnv dqmSaver
        include "DQMServices/Components/data/DQMEnvironment.cfi"
        replace dqmSaver.convention       = "Online"
        replace dqmSaver.producer         = "Playback"
        replace dqmEnv.subSystemFolder    = "Hcal"
        replace dqmSaver.dirName          = "/home/dqmdevlocal/output"


	// replace dqmSaver.saveByLumiSection =  1
	// replace dqmSaver.saveByMinute      = -1
	// replace dqmSaver.saveByEvent       = -1
	replace dqmSaver.saveByRun         =  1
	replace dqmSaver.saveAtJobEnd      = true
   
        #########################################################
        #### END ################################################
        #########################################################
}
